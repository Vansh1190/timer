<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CountDown Timer</title>
    <link rel="stylesheet" href="index.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />

</head>

<body>
    <h1 id="first">We' re Launching Soon</h1>
    <main class="center" id="timer">
        <div class="timeB animate__animated" id="dayID" style="color: rgb(236, 58, 58);"><span id="day" class="time">--</span></div>
        <div class="timeB animate__animated" id="hr"><span id="hour" class="time">--</span></div>
        <div class="timeB animate__animated" id="min"><span id="minute" class="time">--</span></div>
        <div class="timeB animate__animated" id="sec"><span id="second" class="time">--</span></div>
    </main>
    <div class="launchInfo">
        <h1 id="launced">Our website launched successfully ðŸŽ‰ðŸŽ‰ðŸŽ‰ðŸŽŠ <br> <a href="https://vansh1190.github.io/about">Go
                to Website</a> </h1>
    </div>

    <footer>
        <img src="images/icon-facebook.svg" alt="">
        <img src="images/icon-pinterest.svg" alt="">
        <img src="images/icon-instagram.svg" alt="">
    </footer>
    <script>
        if (localStorage.key(0) != "Date") {
            // console.log("HELLO")
            localStorage.setItem("Date", "Jul 4, 2023 20:00:00")
        }

        var LaunchDate = new Date(localStorage.getItem("Date")).getTime();

        document.getElementById("minute").style.animationPlayState = "paused"
        document.getElementById("hour").style.animationPlayState = "paused"
        document.getElementById("day").style.animationPlayState = "paused"

        let timeArrived = false;

        let loop = setInterval(() => {
            const date = new Date().getTime()
            let distance = LaunchDate - date;
            let days = Math.floor(distance / (1000 * 60 * 60 * 24));
            let hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            let minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            let seconds = Math.floor((distance % (1000 * 60)) / 1000);


            if (days < 0 || hours < 0 || minutes < 0 || seconds < 0) {
                document.getElementById("second").style.animation = "none"
                clearInterval(loop)

                return

            }


            document.getElementById("second").style.animation = "ScaleAnim 0.5s ease infinite"
            document.getElementById("second").style.animationFillMode="both"
            document.getElementById("sec").classList.add("animate__flipInX")
            setTimeout(() => {
                document.getElementById("sec").classList.remove("animate__flipInX")
                document.getElementById("min").classList.remove("animate__flipInX")
                document.getElementById("hr").classList.remove("animate__flipInX")
                document.getElementById("dayID").classList.remove("animate__flipInX")
            }, 950);
            // document.getElementById("second").classList.remove("animate__flipInX")

            if (minutes != 0 && seconds == 59) {
                timeArrived = true;
                document.getElementById("minute").style.animation = "ScaleAnim 1s ease"
                document.getElementById("min").classList.add("animate__flipInX")
                // clearInterval(loop)
            }
            if (hours != 0 && minutes == 59 && seconds == 59) {

                timeArrived = true;
                document.getElementById("hour").style.animation = "ScaleAnim 1s ease"
                document.getElementById("hr").classList.add("animate__flipInX")
                // clearInterval(loop)
            }
            if (days != 0 && hours == 59 && minutes == 59 && seconds == 59) {
                timeArrived = true;
                document.getElementById("day").style.animation = "ScaleAnim 1s ease"
                document.getElementById("dayID").classList.add("animate__flipInX")
                // clearInterval(loop)
            }
      
            
            if (days == 0 && hours == 0 && minutes == 0 && seconds == 0) {
                timeArrived = true;
                setTimeout(() => {
                    document.getElementById("timer").style.display = "none"
                    document.getElementById("first").style.display = "none"
                }, 100)
                document.getElementById("launced").style.display = "block";
                document.getElementById("second").innerHTML = "00";

            }

            (days < 10) ? days = "0" + days : null;
            (hours < 10) ? hours = "0" + hours  : null;
            (minutes < 10) ? minutes = "0" + minutes : null;
            (seconds < 10) ? seconds = "0" +  seconds: null;








            document.getElementById("second").innerHTML = seconds;
            document.getElementById("minute").innerHTML = minutes;
            document.getElementById("hour").innerHTML = hours;
            document.getElementById("day").innerHTML = days;



        },1000)
    </script>
</body>

</html>
